# product-refactor

### 从前有一士多店, 店主对店内的商品有严格的日期和质量管控和记录，每日关门结算时候他会统一更新商品信息：
* 每过一天，每个商品的剩余有效日期标记会减1， 对应的质量标记也会减1
* 当商品已经过了有效日期，对应质量标记会减2
* 质量标记总在0到50之间

### 后来店主增加了经营范围，开始从法国进口了Aged Brie（布里奶酪）进行售卖， 这种奶酪是越放越值钱于是老板在每日结算的时候， 每过一天:
* 把奶酪对应的质量标记加1
* 有效售卖日期也加1（刚进货的时候总为0）
* 质量标记总在0到50之间

### 忽然有段时间，某RPG游戏大火，于是老板开始尝试卖游戏里备受欢迎的装备-锤子Sulfuras在每日结算的时候： 
* Sulfuras的质量标记总是80
* 有效售卖日期每天加1（刚进货的时候为0）

#### 后来想想不对，预计游戏最多火2个月，于是
* 有效售卖日期每天减1（刚进货的时候为60）

### 有一天，老板忽然找到门路能拿到某演唱会的后台门票卖，越是临近演唱会，价格应该能炒得越高。于是老板在每日结算的时候：
* 演唱会10天前，后台通行证对应的质量标记每天加1
* 离演唱会5-10天，后台通行证对应的质量标记每天加2
* 演唱会前5天，后台通行证对应的质量标记每天加3
* 如果演唱会到了还没有卖出，质量标记为0


